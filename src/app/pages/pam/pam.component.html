<div class='pam-connect'>
  <mat-sidenav-container (backdropClick)="closeDrawer()">

    <mat-sidenav #sidenav position='end' mode="over" class='file-manage-drawer'>
      <div class='drawer-header'>

        <mat-icon style='cursor: pointer' (click)='closeDrawer()'>close</mat-icon>

        <p>
          文件管理
        </p>
      </div>

      <mat-divider></mat-divider>

      <div class='drawer-manage'>
       <div class='path'>
         <mat-icon>home</mat-icon>
         <div class='delimiter'>/</div>
       </div>

        <div class='upload-btn'>
          <label for='file-input' class="file-label">
            <button mat-raised-button color="primary" >
              上传文件
            </button>
          </label>

          <input
            multiple
            type="file"
            id='file-input'
            name="templateFileUploadControl2"
            [(ngModel)]="manualChangesFiles"
            (change)="onFileSelected($event)"
          >
        </div>
      </div>

      <div class='drawer-table'>
        <mat-table [dataSource]="dataSource">

          <!-- Position Column -->
          <ng-container matColumnDef="name">
            <mat-header-cell  *matHeaderCellDef> 名称 </mat-header-cell>
            <mat-cell  *matCellDef="let element"> {{element.name}} </mat-cell>
          </ng-container>

          <ng-container matColumnDef="size">
            <mat-header-cell  *matHeaderCellDef> 大小 </mat-header-cell>
            <mat-cell  *matCellDef="let element"> {{element.size}} </mat-cell>
          </ng-container>

          <ng-container matColumnDef="modification-time">
            <mat-header-cell  *matHeaderCellDef> 修改时间 </mat-header-cell>
            <mat-cell  *matCellDef="let element"> {{element.modificationTime}} </mat-cell>
          </ng-container>

          <ng-container matColumnDef="attributes">
            <mat-header-cell  *matHeaderCellDef> 属性 </mat-header-cell>
            <mat-cell  *matCellDef="let element"> {{element.attributes}} </mat-cell>
          </ng-container>

          <ng-container matColumnDef="action">
            <mat-header-cell  *matHeaderCellDef> 操作 </mat-header-cell>
            <mat-cell  *matCellDef="let element">  </mat-cell>
          </ng-container>

          <mat-header-row  *matHeaderRowDef="displayedColumns; sticky: true"></mat-header-row>
          <mat-row  *matRowDef="let row; columns: displayedColumns;"></mat-row>
        </mat-table>

      </div>
    </mat-sidenav>

    <mat-sidenav-content>
      <mat-card>
        <mat-card-header style='height: 55px; align-items: center'>
          <mat-card-title>
            SSH 会话
          </mat-card-title>

          <mat-divider [vertical]='true'> </mat-divider>

          <div class='info-section'>
            <div class='top-part'>
              <mat-icon matTooltip="资产信息">dvr</mat-icon>
              <div class='desc'>
                <div style='font-weight: 700; margin-right: 5px'>
                  资产信息:
                </div>
                root@y4.cmdb.cc - (yy)
              </div>
            </div>

            <div class='bottom-part'>
              <mat-icon matTooltip="连接时间">date_range</mat-icon>

              <div class='desc'>
                <div style='font-weight: 700; margin-right: 5px'>
                  连接时间:
                </div>
                九月 24,2024 10:46 上午
              </div>

            </div>
          </div>
          <div class='action-section'>
            <div class='time-part'>
              <div [class.active]='isActive' class='active-state'></div>
              <div class='desc'>{{ totalConnectTime }}</div>
            </div>

            <mat-divider [vertical]='true'> </mat-divider>

            <div class='file-manage action-icon'>
              <mat-icon matTooltip="文件管理" (click)="sidenav.open()">folder</mat-icon>
            </div>

            <div class='exit action-icon'>
              <mat-icon matTooltip="退出">close</mat-icon>
            </div>
          </div>
        </mat-card-header>
      </mat-card>

      <mat-card style='margin: 20px; height: calc(100% - 130px); background-color: #F7F8F9'>
        <mat-card-content style='height: calc(100% - 50px);'>
          <elements-iframe *ngIf="iframeURL" [src]="iframeURL" [origin]='"pam"'>
          </elements-iframe>
        </mat-card-content>
      </mat-card>
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>


